(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8733],{3910:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c});var a=r(95155),l=r(12115),t=r(64983);function c(){let[e,s]=(0,l.useState)([]),[r,c]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{(async()=>{let{data:e,error:r}=await t.supabase.from("profiles").select("*").order("created_at",{ascending:!1});r?console.error("Ошибка загрузки пользователей:",r):s(e||[]),c(!1)})()},[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("main",{className:"p-10",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Пользователи"}),r?(0,a.jsx)("p",{children:"Загрузка..."}):(0,a.jsxs)("table",{className:"w-full text-sm border bg-white",children:[(0,a.jsx)("thead",{className:"bg-gray-100",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"border px-2 py-1",children:"ID"}),(0,a.jsx)("th",{className:"border px-2 py-1",children:"Телефон"}),(0,a.jsx)("th",{className:"border px-2 py-1",children:"Адрес"}),(0,a.jsx)("th",{className:"border px-2 py-1",children:"Город"}),(0,a.jsx)("th",{className:"border px-2 py-1",children:"Индекс"}),(0,a.jsx)("th",{className:"border px-2 py-1",children:"Зарегистрирован"})]})}),(0,a.jsx)("tbody",{children:0===e.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"text-center py-4 text-gray-500",children:"Нет зарегистрированных пользователей"})}):e.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"border px-2 py-1",children:e.id}),(0,a.jsx)("td",{className:"border px-2 py-1",children:e.phone||"-"}),(0,a.jsx)("td",{className:"border px-2 py-1",children:e.address||"-"}),(0,a.jsx)("td",{className:"border px-2 py-1",children:e.city||"-"}),(0,a.jsx)("td",{className:"border px-2 py-1",children:e.zip_code||"-"}),(0,a.jsx)("td",{className:"border px-2 py-1",children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]})]})})}r(60015).A},29215:(e,s,r)=>{Promise.resolve().then(r.bind(r,3910))},33959:(e,s,r)=>{"use strict";r.d(s,{A:()=>c});var a=r(95155);let l=r(47937).X,t=r(6874).default;function c(e){let{isOpen:s,onClose:c}=e;return s?(0,a.jsxs)("div",{className:"fixed inset-0 bg-white z-50 px-6 pt-6 pb-10 shadow-md overflow-auto lg:hidden",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsx)("span",{className:"text-lg font-bold",children:"Админ-меню"}),(0,a.jsx)("button",{onClick:c,className:"ml-auto",children:(0,a.jsx)(l,{className:"w-6 h-6"})})]}),(0,a.jsxs)("ul",{className:"space-y-3 text-gray-800",children:[(0,a.jsx)("li",{children:(0,a.jsx)(t,{href:"/admin",onClick:c,className:"block hover:text-orange-500",children:"Панель"})}),(0,a.jsx)("li",{children:(0,a.jsx)(t,{href:"/admin/products",onClick:c,className:"block hover:text-orange-500",children:"Товары"})}),(0,a.jsx)("li",{children:(0,a.jsx)(t,{href:"/admin/upload",onClick:c,className:"block hover:text-orange-500",children:"Загрузка XML"})}),(0,a.jsx)("li",{children:(0,a.jsx)(t,{href:"/admin/users",onClick:c,className:"block hover:text-orange-500",children:"Пользователи"})}),(0,a.jsx)("li",{children:(0,a.jsx)(t,{href:"/admin/orders",onClick:c,className:"block hover:text-orange-500",children:"Заказы"})}),(0,a.jsx)("li",{children:(0,a.jsx)(t,{href:"/admin/profile",onClick:c,className:"block hover:text-orange-500",children:"Профиль"})}),(0,a.jsx)("li",{children:(0,a.jsx)("button",{onClick:async()=>{let{supabase:e}=r(64983);await e.auth.signOut(),window.location.href="/"},className:"text-red-600 hover:underline",children:"Выход"})})]})]}):null}},60015:(e,s,r)=>{"use strict";r.d(s,{A:()=>o});var a=r(95155),l=r(6874),t=r.n(l),c=r(12115),n=r(64983);let{LogOut:i,Menu:d}=r(47937),h=r(33959).A;function o(){let[e,s]=(0,c.useState)(!1),r=async()=>{await n.supabase.auth.signOut(),location.href="/"};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("header",{className:"bg-gray-800 text-white px-6 py-4 flex justify-between items-center shadow-md",children:[(0,a.jsx)(t(),{href:"/admin",className:"text-xl font-bold",children:"ProTel Admin"}),(0,a.jsxs)("nav",{className:"hidden lg:flex gap-6 text-sm",children:[(0,a.jsx)(t(),{href:"/admin",className:"hover:text-orange-400",children:"Панель"}),(0,a.jsx)(t(),{href:"/admin/products",className:"hover:text-orange-400",children:"Товары"}),(0,a.jsx)(t(),{href:"/admin/upload",className:"hover:text-orange-400",children:"Загрузка"}),(0,a.jsx)(t(),{href:"/admin/users",className:"hover:text-orange-400",children:"Пользователи"}),(0,a.jsx)(t(),{href:"/admin/orders",className:"hover:text-orange-400",children:"Заказы"}),(0,a.jsx)(t(),{href:"/admin/chat",className:"hover:text-orange-400",children:"Чат с клиентом"}),(0,a.jsx)(t(),{href:"/admin/profile",className:"hover:text-orange-400",children:"Профиль"}),(0,a.jsxs)("button",{onClick:r,className:"hover:text-red-400 flex items-center gap-1",children:[(0,a.jsx)(i,{size:16})," Выход"]})]}),(0,a.jsx)("button",{onClick:()=>s(!0),className:"lg:hidden text-white",children:(0,a.jsx)(d,{size:28})})]}),(0,a.jsx)(h,{isOpen:e,onClose:()=>s(!1)})]})}},64983:(e,s,r)=>{"use strict";r.r(s),r.d(s,{supabase:()=>a});let a=(0,r(34982).UU)("https://fjzbgaflzavzcwfoozcs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZqemJnYWZsemF2emN3Zm9vemNzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczOTM4ODMsImV4cCI6MjA2Mjk2OTg4M30.mTC_-_hacoYgO4gAhXE1A9QoW-V6oS6UNfozzlrh_w4")}},e=>{var s=s=>e(e.s=s);e.O(0,[8568,4982,6874,7368,8441,1684,7358],()=>s(29215)),_N_E=e.O()}]);