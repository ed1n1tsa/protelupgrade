(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4315],{6654:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return r}});let l=s(12115);function r(e,t){let s=(0,l.useRef)(null),r=(0,l.useRef)(null);return(0,l.useCallback)(l=>{if(null===l){let e=s.current;e&&(s.current=null,e());let t=r.current;t&&(r.current=null,t())}else e&&(s.current=a(e,l)),t&&(r.current=a(t,l))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let s=e(t);return"function"==typeof s?s:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},35695:(e,t,s)=>{"use strict";var l=s(18999);s.o(l,"usePathname")&&s.d(t,{usePathname:function(){return l.usePathname}}),s.o(l,"useRouter")&&s.d(t,{useRouter:function(){return l.useRouter}})},51764:(e,t,s)=>{Promise.resolve().then(s.bind(s,93510))},64983:(e,t,s)=>{"use strict";s.r(t),s.d(t,{supabase:()=>l});let l=(0,s(34982).UU)("https://fjzbgaflzavzcwfoozcs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZqemJnYWZsemF2emN3Zm9vemNzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczOTM4ODMsImV4cCI6MjA2Mjk2OTg4M30.mTC_-_hacoYgO4gAhXE1A9QoW-V6oS6UNfozzlrh_w4")},93510:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var l=s(95155),r=s(35695),a=s(12115),n=s(64983);let c=s(66766).default;function i(){let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(null),d=(0,r.useRouter)();(0,a.useEffect)(()=>{(async()=>{var e,s;let{data:{session:l}}=await n.supabase.auth.getSession(),r=null!=(s=null==l||null==(e=l.user)?void 0:e.id)?s:null;i(r);let a=localStorage.getItem("cart");if(a){let e=JSON.parse(a);e.userId===r?t(e.items):localStorage.removeItem("cart")}})()},[]);let u=e=>{t(e),localStorage.setItem("cart",JSON.stringify({userId:s,items:e}))},m=t=>{let s=[...e];s.splice(t,1),u(s)},o=(t,s)=>{let l=[...e];l[t].quantity=s,u(l)},x=e.reduce((e,t)=>e+t.price*t.quantity,0);return 0===e.length?(0,l.jsxs)("main",{className:"p-10 text-center text-gray-600 flex flex-col items-center justify-center min-h-[50vh]",children:[(0,l.jsx)(c,{src:"/icons/empty-cart.png",alt:"Бос",width:150,height:150}),(0,l.jsx)("h2",{className:"text-xl font-semibold mt-4",children:"Себетіңіз бос"}),(0,l.jsx)("p",{className:"text-sm mt-2",children:"Каталогтан тауарлар қосыңыз"})]}):(0,l.jsxs)("main",{className:"p-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Себет"}),(0,l.jsxs)("div",{className:"bg-white border rounded-md mb-6 p-4",children:[(0,l.jsx)("p",{className:"font-semibold mb-2",children:"Тапсырыстың күйі"}),(0,l.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-full bg-red-500 text-white flex items-center justify-center",children:"1"}),(0,l.jsx)("span",{className:"mt-1",children:"Себет"})]}),(0,l.jsx)("div",{className:"h-1 w-10 bg-gray-300"}),(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-gray-300 text-gray-500 flex items-center justify-center",children:"2"}),(0,l.jsx)("span",{className:"mt-1 text-gray-400",children:"Рәсімдеу"})]}),(0,l.jsx)("div",{className:"h-1 w-10 bg-gray-300"}),(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-gray-300 text-gray-500 flex items-center justify-center",children:"3"}),(0,l.jsx)("span",{className:"mt-1 text-gray-400",children:"Төлем"})]})]})]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,l.jsx)("div",{className:"md:col-span-2 space-y-4",children:e.map((e,t)=>(0,l.jsxs)("div",{className:"border rounded p-4 flex justify-between items-center bg-white shadow-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-semibold",children:e.model}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["SKU: ",e.sku]}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[(0,l.jsx)("span",{className:"mr-2",children:"Саны:"}),(0,l.jsx)("input",{type:"number",min:1,value:e.quantity,onChange:e=>o(t,Number(e.target.value)),className:"w-16 border rounded px-1"})]})]}),(0,l.jsxs)("div",{className:"flex flex-col items-end",children:[(0,l.jsxs)("p",{className:"font-bold text-lg",children:[(e.price*e.quantity).toLocaleString()," тг"]}),(0,l.jsx)("button",{onClick:()=>m(t),className:"text-red-500 text-xs mt-2 hover:underline",children:"Өшіру"})]})]},t))}),(0,l.jsxs)("div",{className:"border rounded p-4 bg-gray-50 shadow-md",children:[(0,l.jsx)("h2",{className:"font-semibold mb-2 text-lg",children:"Жалпы"}),(0,l.jsxs)("p",{className:"text-xl font-bold mb-4",children:[x.toLocaleString()," тг"]}),(0,l.jsx)("button",{onClick:()=>d.push("/kz/client/checkout"),className:"w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded transition",children:"Тапсырысты рәсімдеу"})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4982,6766,8441,1684,7358],()=>t(51764)),_N_E=e.O()}]);