(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[207],{555:(e,s,t)=>{"use strict";t.d(s,{A:()=>o});var n=t(95155),r=t(12115);let i=t(6874).default,{X:l}=t(47937);function o(e){let{isOpen:s,onClose:t}=e,[o,a]=(0,r.useState)(0);return((0,r.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("cart");a((e?JSON.parse(e):[]).length)};return e(),window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[]),s)?(0,n.jsxs)("div",{className:"fixed inset-0 bg-white z-50 p-6 shadow-md overflow-auto lg:hidden",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,n.jsx)("span",{className:"text-lg font-bold",children:"Мәзір"}),(0,n.jsx)("button",{onClick:t,children:(0,n.jsx)(l,{className:"w-6 h-6"})})]}),(0,n.jsxs)("ul",{className:"space-y-3 text-gray-800",children:[(0,n.jsx)("li",{children:(0,n.jsx)(i,{href:"/kz/client/catalog",onClick:t,children:"Каталог"})}),(0,n.jsx)("li",{children:(0,n.jsx)(i,{href:"/kz/client/orders",onClick:t,children:"Менің тапсырыстарым"})}),(0,n.jsx)("li",{children:(0,n.jsxs)(i,{href:"/kz/client/cart",onClick:t,children:["Себет",o>0&&(0,n.jsx)("span",{className:"ml-2 bg-green-500 text-white text-xs px-2 rounded-full",children:o})]})}),(0,n.jsx)("li",{children:(0,n.jsx)(i,{href:"/kz/client/support",onClick:t,children:"Қолдау"})}),(0,n.jsx)("li",{children:(0,n.jsx)(i,{href:"/kz/client/profile",onClick:t,children:"Профиль"})}),(0,n.jsx)("li",{children:(0,n.jsx)(i,{href:"/kz/loginSign/login",onClick:t,className:"text-red-500",children:"Шығу"})})]})]}):null}},12270:(e,s,t)=>{"use strict";var n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,l=Object.prototype.hasOwnProperty,o=(e,s,t)=>new Promise((n,r)=>{var i=e=>{try{o(t.next(e))}catch(e){r(e)}},l=e=>{try{o(t.throw(e))}catch(e){r(e)}},o=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,l);o((t=t.apply(e,s)).next())}),a={};((e,s)=>{for(var t in s)n(e,t,{get:s[t],enumerable:!0})})(a,{SessionContextProvider:()=>h,useSession:()=>j,useSessionContext:()=>x,useSupabaseClient:()=>f,useUser:()=>m}),e.exports=((e,s,t,o)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let t of i(s))l.call(e,t)||void 0===t||n(e,t,{get:()=>s[t],enumerable:!(o=r(s,t))||o.enumerable});return e})(n({},"__esModule",{value:!0}),a);var c=t(12115),u=t(95155),d=(0,c.createContext)({isLoading:!0,session:null,error:null,supabaseClient:{}}),h=({supabaseClient:e,initialSession:s=null,children:t})=>{let[n,r]=(0,c.useState)(s),[i,l]=(0,c.useState)(!s),[a,h]=(0,c.useState)();(0,c.useEffect)(()=>{!n&&s&&r(s)},[n,s]),(0,c.useEffect)(()=>{let s=!0;return!function(){o(this,null,function*(){let{data:{session:t},error:n}=yield e.auth.getSession();if(s){if(n){h(n),l(!1);return}r(t),l(!1)}})}(),()=>{s=!1}},[]),(0,c.useEffect)(()=>{let{data:{subscription:s}}=e.auth.onAuthStateChange((e,s)=>{s&&("SIGNED_IN"===e||"TOKEN_REFRESHED"===e||"USER_UPDATED"===e)&&r(s),"SIGNED_OUT"===e&&r(null)});return()=>{s.unsubscribe()}},[]);let x=(0,c.useMemo)(()=>i?{isLoading:!0,session:null,error:null,supabaseClient:e}:a?{isLoading:!1,session:null,error:a,supabaseClient:e}:{isLoading:!1,session:n,error:null,supabaseClient:e},[i,n,a]);return(0,u.jsx)(d.Provider,{value:x,children:t})},x=()=>{let e=(0,c.useContext)(d);if(void 0===e)throw Error("useSessionContext must be used within a SessionContextProvider.");return e};function f(){let e=(0,c.useContext)(d);if(void 0===e)throw Error("useSupabaseClient must be used within a SessionContextProvider.");return e.supabaseClient}var j=()=>{let e=(0,c.useContext)(d);if(void 0===e)throw Error("useSession must be used within a SessionContextProvider.");return e.session},m=()=>{var e,s;let t=(0,c.useContext)(d);if(void 0===t)throw Error("useUser must be used within a SessionContextProvider.");return null!=(s=null==(e=t.session)?void 0:e.user)?s:null}},23841:(e,s,t)=>{Promise.resolve().then(t.bind(t,37112))},37112:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var n=t(95155),r=t(12115);let i=t(45227).A,l=t(555).A,o=t(97508).b;function a(e){let{children:s}=e,[t,a]=(0,r.useState)(!1);return(0,n.jsxs)(o,{children:[(0,n.jsx)(i,{onMenuOpen:()=>a(!0)}),(0,n.jsx)(l,{isOpen:t,onClose:()=>a(!1)}),(0,n.jsx)("main",{children:s})]})}},45227:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var n=t(95155),r=t(6874),i=t.n(r),l=t(12115);let o=t(47937).Menu,a=t(555).A;function c(){let[e,s]=(0,l.useState)(0),[t,r]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=localStorage.getItem("cart");s((e?JSON.parse(e):[]).length)},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("header",{className:"p-4 flex justify-between items-center bg-white shadow",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("button",{onClick:()=>r(!0),className:"lg:hidden",children:(0,n.jsx)(o,{className:"w-6 h-6"})}),(0,n.jsx)(i(),{href:"/",className:"font-bold text-xl",children:"ProTel"})]}),(0,n.jsxs)("nav",{className:"space-x-4 text-sm hidden lg:flex",children:[(0,n.jsx)(i(),{href:"/kz/client/catalog",children:"Каталог"}),(0,n.jsx)(i(),{href:"/kz/client/orders",children:"Менің тапсырыстарым"}),(0,n.jsx)(i(),{href:"/kz/client/cart",children:(0,n.jsxs)("span",{className:"relative inline-block",children:["Себет",e>0&&(0,n.jsx)("span",{className:"absolute -top-2 -right-4 bg-green-500 text-white text-xs px-2 rounded-full",children:e})]})}),(0,n.jsx)(i(),{href:"/kz/client/support",children:"Қолдау"}),(0,n.jsx)(i(),{href:"/kz/client/profile",children:"Профиль"}),(0,n.jsx)(i(),{href:"/kz/loginSign/login",className:"text-red-500",children:"Шығу"})]})]}),(0,n.jsx)(a,{isOpen:t,onClose:()=>r(!1)})]})}},64983:(e,s,t)=>{"use strict";t.r(s),t.d(s,{supabase:()=>n});let n=(0,t(34982).UU)("https://fjzbgaflzavzcwfoozcs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZqemJnYWZsemF2emN3Zm9vemNzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczOTM4ODMsImV4cCI6MjA2Mjk2OTg4M30.mTC_-_hacoYgO4gAhXE1A9QoW-V6oS6UNfozzlrh_w4")},97508:(e,s,t)=>{"use strict";t.d(s,{b:()=>l});var n=t(95155);let r=t(12270).SessionContextProvider,i=t(64983).supabase;function l(e){let{children:s}=e;return(0,n.jsx)(r,{supabaseClient:i,children:s})}}},e=>{var s=s=>e(e.s=s);e.O(0,[8568,4982,6874,7368,8441,1684,7358],()=>s(23841)),_N_E=e.O()}]);