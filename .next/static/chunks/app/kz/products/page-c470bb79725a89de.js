(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4667],{16541:(e,a,s)=>{"use strict";s.r(a),s.d(a,{addToCart:()=>c,clearCart:()=>o,getCart:()=>r,getUserId:()=>l,removeFromCart:()=>n,saveCart:()=>i});var t=s(64983);async function l(){var e;let{data:{session:a}}=await t.supabase.auth.getSession();return(null==a||null==(e=a.user)?void 0:e.id)||null}async function r(){let e=localStorage.getItem("cart"),a=await l();if(!e||!a)return[];try{let s=JSON.parse(e);if(s.userId!==a)return localStorage.removeItem("cart"),[];return s.items||[]}catch(e){return localStorage.removeItem("cart"),[]}}async function i(e){let a=await l();a&&localStorage.setItem("cart",JSON.stringify({userId:a,items:e}))}async function c(e){let a=await r(),s=a.find(a=>a.sku===e.sku);s?s.quantity+=1:a.push({...e,quantity:1}),await i(a)}async function n(e){let a=(await r()).filter(a=>a.sku!==e);await i(a)}async function o(){localStorage.removeItem("cart")}},23920:(e,a,s)=>{"use strict";s.d(a,{A:()=>i});var t=s(95155),l=s(35695),r=s(16541);function i(e){let{product:a}=e,s=(0,l.useRouter)();return(0,t.jsxs)("div",{className:"border p-4 rounded",children:[(0,t.jsx)("img",{src:a.img||"https://avatars.mds.yandex.net/get-yabs_performance/10256469/hat4203a5ade400c144c2a8a10ba165f94c/hugeX",alt:a.model,className:"mb-2 h-40 object-contain w-full"}),(0,t.jsx)("h3",{className:"font-semibold text-base",children:a.model}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Қалған саны: ",a.stock_count]}),(0,t.jsxs)("p",{className:"text-lg font-bold",children:[a.price.toLocaleString()," ₸"]}),(0,t.jsx)("button",{onClick:()=>{(0,r.addToCart)(a),s.push("/kz/client/cart")},className:"w-full mt-2 bg-black text-white py-1 rounded hover:bg-gray-800 transition",children:"Сатып алу"})]})}},32167:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=[{id:1,name:"Смартфон Iphone 16",price:799990,image:"/phone.jpg",category:"mobile",brand:"Apple"},{id:2,name:"Смарт-часы FitTime",price:324900,image:"/watch.jpg",category:"electronics",brand:"FitTime"},{id:3,name:"Геймпад XGame Controller",price:59900,image:"/controller.jpg",category:"games",brand:"XGame"},{id:4,name:"Ноутбук ProBook 14",price:189900,image:"/laptop.png",category:"electronics",brand:"HP"}]},35695:(e,a,s)=>{"use strict";var t=s(18999);s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}})},44812:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>c});var t=s(95155),l=s(12115),r=s(32167);let i=s(23920).A;function c(){let[e,a]=(0,l.useState)([]),[s,c]=(0,l.useState)([]),[n,o]=(0,l.useState)([1e4,1e6]),m=r.A.filter(a=>{let t=0===e.length||e.includes(a.category),l=0===s.length||s.includes(a.brand),r=a.price>=n[0]&&a.price<=n[1];return t&&l&&r}),d=e=>{a(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},u=e=>{c(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])};return(0,t.jsxs)("main",{className:"px-6 py-12",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Тауарлар каталогы"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-12",children:[(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,t.jsx)("h2",{className:"font-semibold text-lg mb-4",children:"Санаттар"}),(0,t.jsxs)("ul",{className:"space-y-2",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("input",{type:"checkbox",id:"electronics",className:"mr-2",onChange:()=>d("electronics")}),(0,t.jsx)("label",{htmlFor:"electronics",children:"Электроника"})]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("input",{type:"checkbox",id:"games",className:"mr-2",onChange:()=>d("games")}),(0,t.jsx)("label",{htmlFor:"games",children:"Ойындар"})]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("input",{type:"checkbox",id:"mobile",className:"mr-2",onChange:()=>d("mobile")}),(0,t.jsx)("label",{htmlFor:"mobile",children:"Смартфондар"})]})]}),(0,t.jsx)("h2",{className:"font-semibold text-lg mt-6 mb-4",children:"Баға диапазоны"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("span",{className:"mr-2",children:[n[0],"₸"]}),(0,t.jsx)("input",{type:"range",min:"0",max:"1000000",value:n[0],onChange:e=>{o([Number(e.target.value),n[1]])},className:"w-full"}),(0,t.jsxs)("span",{className:"ml-2",children:[n[1],"₸"]})]}),(0,t.jsx)("h2",{className:"font-semibold text-lg mt-6 mb-4",children:"Брендтер"}),(0,t.jsxs)("ul",{className:"space-y-2",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("input",{type:"checkbox",id:"apple",className:"mr-2",onChange:()=>u("Apple")}),(0,t.jsx)("label",{htmlFor:"apple",children:"Apple"})]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("input",{type:"checkbox",id:"samsung",className:"mr-2",onChange:()=>u("Samsung")}),(0,t.jsx)("label",{htmlFor:"samsung",children:"Samsung"})]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("input",{type:"checkbox",id:"xiaomi",className:"mr-2",onChange:()=>u("Xiaomi")}),(0,t.jsx)("label",{htmlFor:"xiaomi",children:"Xiaomi"})]})]})]}),(0,t.jsx)("div",{className:"md:col-span-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:m.length>0?m.map(e=>(0,t.jsx)(i,{product:e},e.id)):(0,t.jsx)("p",{children:"Сүзгілерге сәйкес келетін тауарлар табылған жоқ."})})]})]})}},64983:(e,a,s)=>{"use strict";s.r(a),s.d(a,{supabase:()=>t});let t=(0,s(34982).UU)("https://fjzbgaflzavzcwfoozcs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZqemJnYWZsemF2emN3Zm9vemNzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczOTM4ODMsImV4cCI6MjA2Mjk2OTg4M30.mTC_-_hacoYgO4gAhXE1A9QoW-V6oS6UNfozzlrh_w4")},68703:(e,a,s)=>{Promise.resolve().then(s.bind(s,44812))}},e=>{var a=a=>e(e.s=a);e.O(0,[4982,8441,1684,7358],()=>a(68703)),_N_E=e.O()}]);